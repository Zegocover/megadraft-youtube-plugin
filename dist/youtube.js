!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("Megadraft")):"function"==typeof define&&define.amd?define(["React","Megadraft"],t):"object"==typeof exports?exports.youtube=t(require("React"),require("Megadraft")):e.youtube=t(e.React,e.Megadraft)}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/dist/",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),u=r(o),i=n(7),a=r(i),l=n(5),f=r(l);t.default={title:f.default.PLUGIN_NAME,type:f.default.PLUGIN_TYPE,buttonComponent:u.default,blockComponent:a.default,options:{defaultDisplay:"",displayOptions:[]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),f=r(l),c=n(4),s=r(c),p=n(5),d=r(p),b=n(6),h=function(e){function t(e){o(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return i(t,e),a(t,[{key:"onClick",value:function(e){var t={type:d.default.PLUGIN_TYPE};this.props.onChange((0,b.insertDataBlock)(this.props.editorState,t))}},{key:"render",value:function(){return f.default.createElement("button",{className:this.props.className,type:"button",onClick:this.onClick,title:d.default.PLUGIN_NAME},f.default.createElement(s.default,{className:"sidemenu__button__icon"}))}}]),t}(l.Component);t.default=h},function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(3),c=r(f),s=function(e){function t(){return o(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return c.default.createElement("svg",a({},this.props,{width:"24",height:"24",viewBox:"0 0 24 24"}),c.default.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(6.923077, 4.538462)"},c.default.createElement("path",{fill:"currentColor",d:"M5.50005518,0.29332192 C2.46240982,0.29332192 1.50990331e-14,2.75573175 1.50990331e-14,5.79326674 C1.50990331e-14,5.89822625 0.00364212829,6.00252356 0.00938123953,6.10593793 L1.50990331e-14,6.10593793 L1.50990331e-14,15.008955 L2.64297109,11.3404489 L2.64142595,10.49095 C2.64164668,10.4911708 2.64186742,10.4912811 2.64208815,10.4913915 L2.64208815,6.04302844 C2.63524537,5.96234978 2.63094103,5.88089855 2.63094103,5.79834364 C2.63094103,5.71600947 2.63524537,5.63455824 2.64208815,5.55387958 L2.64208815,5.54681606 L2.64263999,5.54681606 C2.77022485,4.0802524 4.00049164,2.92933986 5.50016555,2.92933986 C7.08449136,2.92933986 8.36905897,4.21401784 8.36905897,5.79834364 C8.36905897,7.38289018 7.08449136,8.66745779 5.50016555,8.66745779 C5.2097886,8.66745779 4.93033803,8.62275895 4.66622854,8.54241139 L3.18531711,10.7779056 C3.88935154,11.1060282 4.67207802,11.2932116 5.50016555,11.2932116 C8.53759018,11.2932116 11,8.83080173 11,5.79326674 C11,2.75573175 8.53747981,0.29332192 5.50005518,0.29332192 Z",id:"Shape"})))}}]),t}(c.default.Component);t.default=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={PLUGIN_NAME:"YouTube",PLUGIN_TYPE:"youtube"}},function(e,n){e.exports=t},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){var n=[],r=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,u=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw u}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),s=r(c),p=n(6),d=n(8),b=r(d),h=n(9),y=r(h),v=n(10),_=r(v),m=n(11),w=r(m),g=p.MegadraftPlugin.BlockContent,O=p.MegadraftPlugin.BlockData,j=p.MegadraftPlugin.BlockInput,P=p.MegadraftPlugin.CommonBlock,E=function(e){function t(e){o(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChangeInput=n.onChangeInput.bind(n),n.loadMedia=n.loadMedia.bind(n),n.actions=[{key:"delete",icon:p.MegadraftIcons.DeleteIcon,action:n.props.container.remove}],n.state=n.buildInitialState(e.data.videoID),n}return i(t,e),f(t,[{key:"buildInitialState",value:function(e){return{videoID:e,url:e?"https://www.youtube.com/embed/"+e:"",errors:[]}}},{key:"onChangeInput",value:function(e){this.setState({url:e.target.value,errors:[]})}},{key:"validate",value:function(e){var t=void 0,n=[];try{var r=new w.default(e);t=r.getVideoID()}catch(e){n.push(e.message),console.error(e)}return[t,n]}},{key:"loadMedia",value:function(){var e=this.state.url,t=this.validate(e),n=l(t,2),r=n[0],o=n[1];this.setState({videoID:r,errors:o}),this.props.container.updateData({videoID:r})}},{key:"render",value:function(){return s.default.createElement(P,a({},this.props,{actions:this.actions}),s.default.createElement(g,null,this.state.videoID?s.default.createElement(b.default,{videoID:this.state.videoID}):s.default.createElement("pre",null,"- PREVIEW -")),s.default.createElement(O,null,s.default.createElement(j,{placeholder:"Enter a YouTube URL",value:this.state.url?this.state.url:"",onChange:this.onChangeInput}),s.default.createElement(_.default,{errors:this.state.errors})),s.default.createElement(O,null,s.default.createElement(y.default,{label:"Load",onClick:this.loadMedia})))}}]),t}(s.default.Component);t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),f=r(l),c=function(e){function t(){return o(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"render",value:function(){if(!this.props.videoID)return null;var e="https://www.youtube.com/embed/"+this.props.videoID;return f.default.createElement("div",{className:"megadraft-youtube"},f.default.createElement("iframe",{src:e,width:"640px",height:"360px",frameBorder:"0",allowFullScreen:!0}))}}]),t}(l.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),f=r(l),c=function(e){function t(e){return o(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),a(t,[{key:"render",value:function(){return f.default.createElement("button",{className:"bs-btn bs-btn--blue bs-btn--small",type:"button",onClick:this.props.onClick},this.props.label)}}]),t}(l.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),s=r(c),p=(l=a=function(e){function t(){return o(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),f(t,[{key:"render",value:function(){return this.props.errors.length?s.default.createElement("ul",{className:"bs-error-list"},this.props.errors.map(function(e,t){return s.default.createElement("li",{key:t},e)})):null}}]),t}(c.Component),a.defaultProps={errors:[]},l);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){this.message=e,this.name="YouTubeURLException"}function i(e){return e.searchParams.get("v")}function a(e){return e.pathname.split("/").pop()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.YouTubeURLException=u;var f=n(12),c=r(f),s={web:i,embed:a,shortener:a},p=function(){function e(t){o(this,e),this.url=this.validate(t)}return l(e,[{key:"getVideoID",value:function(){var e=s[this.getUrlType()];return e(this.url)}},{key:"validate",value:function(e){var t=void 0;if(!c.default.isUri(e))throw new u("Invalid URL.");t=new URL(e);var n=this.getUrlType(t);if(!n)throw new u("Invalid YouTube URL.");return t}},{key:"getUrlType",value:function(e){return this._urlType||(e.href.includes("youtube.com/watch")?this._urlType="web":e.href.includes("youtube.com/embed")?this._urlType="embed":e.href.includes("youtu.be")&&(this._urlType="shortener")),this._urlType}}]),e}();t.default=p},function(e,t,n){(function(e){!function(e){"use strict";function t(e){if(e&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(e)&&!/%[^0-9a-f]/i.test(e)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(e)){var t=[],n="",r="",o="",i="",a="",l="";if(t=u(e),n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],n&&n.length&&o.length>=0){if(r&&r.length){if(0!==o.length&&!/^\//.test(o))return}else if(/^\/\//.test(o))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(n.toLowerCase()))return l+=n+":",r&&r.length&&(l+="//"+r),l+=o,i&&i.length&&(l+="?"+i),a&&a.length&&(l+="#"+a),l}}}function n(e,n){if(t(e)){var r=[],o="",i="",a="",l="",f="",c="",s="";if(r=u(e),o=r[1],i=r[2],a=r[3],f=r[4],c=r[5],o){if(n){if("https"!=o.toLowerCase())return}else if("http"!=o.toLowerCase())return;if(i)return/:(\d+)$/.test(i)&&(l=i.match(/:(\d+)$/)[0],i=i.replace(/:\d+$/,"")),s+=o+":",s+="//"+i,l&&(s+=l),s+=a,f&&f.length&&(s+="?"+f),c&&c.length&&(s+="#"+c),s}}}function r(e){return n(e,!0)}function o(e){return n(e)||r(e)}e.exports.is_uri=t,e.exports.is_http_uri=n,e.exports.is_https_uri=r,e.exports.is_web_uri=o,e.exports.isUri=t,e.exports.isHttpUri=n,e.exports.isHttpsUri=r,e.exports.isWebUri=o;var u=function(e){var t=e.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return t}}(e)}).call(t,n(13)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}])});
//# sourceMappingURL=youtube.js.map